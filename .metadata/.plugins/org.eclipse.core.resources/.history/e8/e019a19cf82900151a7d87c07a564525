package main;

class ListNode {
	int val;
	ListNode next;
	ListNode(int x) { val = x; }
}

public class Solution {
	public ListNode reverseKGroup(ListNode head, int k) {
		ListNode newHead = null,oldHead = null, p = head, q = null;
		for(int i = 0 ; i < k-1; i++ ) 
			p = p.next;
		newHead = p;
		
		
		
		p = head;
		q = p.next;
		//r = q.next;
		
		
		for(int i = 0 ; i < k-1; i++) {
			if(i == 0)
				oldHead = p;
			ListNode r = q.next;
			q.next = p;
			p = q;
			q = r;
		}
		
		ListNode nextHead = q;
		for(int i = 0 ; i < k-1; i++) {
			if(nextHead== null)
				return newHead;
			nextHead = nextHead.next;
		}
		
		oldHead.next = nextHead;
		
	}
}