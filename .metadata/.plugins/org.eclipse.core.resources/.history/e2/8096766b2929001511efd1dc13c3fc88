package main;

public class Solution {
	public static int myAtoi(String str) {
		boolean start = false;
		int sign = 0;
		int num= 0;
        for(int i = 0; i < str.length(); i++ ) {
        	if(str.charAt(i) == ' ') {
        		if(start)
        			break;
        		continue;
        	}
        	
        	
        	else if(str.charAt(i) == '-') {
        		if(sign != 0)
        			return 0;
        		sign = -1;
        		
        	}
        	else if(str.charAt(i) == '+') {
        		if(sign != 0)
        			return 0;
        		sign = 1;
        		
        	}
        	
        	else if(str.charAt(i)-'0' < 0 || str.charAt(i)-'0' > 9)
        		break;
        	
        	else {
        		start = true;
        		num *= 10;
        		num += str.charAt(i) - '0'; 
        		
        		if(sign == -1) {
        			int max = -2147483648;
        			if(num < max/10 && i < str.length() || num*10 < 0 && i<str.length()-1 || i < str.length() && num == max/10 && str.charAt(i+1)-'0' >= 9)
    	        		return max;
    	        	
        		}
        		else {
        			int max = 2147483647;
        			if(num > max/10 && i < str.length() || num*10 < 0 && i<str.length()-1 || i < str.length()-1 && num == max/10 && str.charAt(i+1)-'0' >= 8)
    	        		return max;
        		}
        		
        	}
        	
        }
        if(sign == 0)
        	sign = 1;
        return num * sign;
    }
	
	public static void main(String[] args) {
		System.out.println(myAtoi("  +0 123"));
	}
}
